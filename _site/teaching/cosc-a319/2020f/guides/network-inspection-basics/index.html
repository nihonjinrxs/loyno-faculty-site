<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Network Inspection Basics &middot; Ryan Bensussan Harvey
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-KwxQKNj2D0XKEW5O/Y6haRH39PE/xry8SAoLbpbCMraqlX7kUP6KHOnrlrtvuJLR" crossorigin="anonymous">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/loyno-faculty-site/public/css/poole.css">
  <link rel="stylesheet" href="/loyno-faculty-site/public/css/syntax.css">
  <link rel="stylesheet" href="/loyno-faculty-site/public/css/lanyon.css">
  <link rel="stylesheet" href="/loyno-faculty-site/public/css/custom.css">

  <!-- favicon -->
  <link rel="apple-touch-icon" sizes="57x57" href="https://www.loyno.edu/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="https://www.loyno.edu/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="https://www.loyno.edu/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="https://www.loyno.edu/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="https://www.loyno.edu/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="https://www.loyno.edu/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="https://www.loyno.edu/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="https://www.loyno.edu/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.loyno.edu/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="https://www.loyno.edu/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.loyno.edu/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="https://www.loyno.edu/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://www.loyno.edu/favicon-16x16.png">
  <!-- link rel="manifest" href="./manifest.json" -->
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="https://www.loyno.edu/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-ryan sidebar-overlay">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" >

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Information about Ryan's teaching, research and computer science education work.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/loyno-faculty-site/">Home</a>

     
    
     
     
       
         
       
     
       
     
       
     
       
        
          <a  class="sidebar-nav-item" 
              href="/loyno-faculty-site/blog/">
            Blog
          </a>
         
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
    

    <p class="sidebar-nav-item sidebar-nav-heading">Teaching</p>
     
     
       
     
       
     
       
     
       
     
       
     
       
     
       
        
          <a  class="sidebar-nav-item level-2" 
              href="/loyno-faculty-site/teaching/cosc-a319/">
            <i class="fa fa-angle-right"></i>
            <p>COSC A319 Internet Technologies</p>
          </a>
         
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
     
       
        
          <a  class="sidebar-nav-item level-2" 
              href="/loyno-faculty-site/teaching/cosc-a451/">
            <i class="fa fa-angle-right"></i>
            <p>COSC A451 Software Engineering</p>
          </a>
         
       
     
       
     
       
     
       
     
       
     
       
     
       
    

    <div class="sidebar-nav-item sidebar-nav-heading">
      <a href="">
        <small>
          <i class="fa fa-code-fork"></i> Fork this site on GitHub
        </small>
      </a>
    </div>
    <span class="sidebar-nav-item">
      <small>
        Site v1.2.1, updated 10/15/2020
      </small>
    </span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020 Ryan B. Harvey. All rights reserved.
    </p>
    <small>
      <p>
        The contents of this communication are the sole responsibility of Ryan B. Harvey and do not necessarily represent the opinions or policies of Loyola University New Orleans.
      </p>
    </small>
  </div>
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/loyno-faculty-site/" title="Home">Ryan Bensussan Harvey</a>
            <small>Instructor in Computer Science <div class='social-icons'><a href='https://github.com/nihonjinrxs' target='_blank' alt='GitHub account'><i class='fa fa-github'> </i></a> <a href='https://twitter.com/CodeAndData' target='_blank' alt='Twitter account'><i class='fa fa-twitter'> </i></a> <a href='https://www.linkedin.com/in/ryanbharvey' target='_blank' alt='LinkedIn account'><i class='fa fa-linkedin-square'> </i></a> <a href='http://datascientist.guru' target='_blank' alt='Professional website of Ryan B. Harvey'><i class='fa fa-globe'> </i></a></div></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Network Inspection Basics</h1>
  <span class="post-date"></span>
  <ul>
  <li><a href="#packet-capture-and-inspection-with-wireshark">Packet Capture and Inspection with Wireshark</a></li>
  <li><a href="#command-line-tools-for-network-inspection">Command-line tools for network inspection</a>
    <ul>
      <li><a href="#check-whether-another-machine-is-on-and-listening-for-requests">Check whether another machine is on and listening for requests</a></li>
      <li><a href="#see-the-network-route-to-a-computer">See the network route to a computer</a></li>
      <li><a href="#see-the-network-interfaces-on-your-computer">See the network interfaces on your computer</a></li>
      <li><a href="#see-dns-information">See DNS information</a></li>
      <li><a href="#get-connection-information-for-interface-connections">Get connection information for interface connections</a></li>
    </ul>
  </li>
</ul>

<h2 id="packet-capture-and-inspection-with-wireshark">Packet Capture and Inspection with Wireshark</h2>

<p>In order to inspect network traffic, you can use a packet capture tool. These tools watch network traffic as it comes through, and collect the packets in memory or in a file, and are then able to parse and display such packet data for human inspection.</p>

<p>One of the most popular of these is <a href="https://www.wireshark.org/">Wireshark</a> (along with its command-line companion <code class="language-plaintext highlighter-rouge">tshark</code>).</p>

<p>To install it, download the installer and follow the various instructions, including installing whichever additional tools are needed.</p>

<p>Once installed, you can start the application, then click the shark fin at the top left to being recording packet traffic. Viewing the center area of the app, recorded packets show in the first pane, with parsed layers/protocols in the second and raw data in the third.</p>

<p>You can also do similar recording from the command line using the <code class="language-plaintext highlighter-rouge">tshark</code> tool that is installed with Wireshark. For more on how <code class="language-plaintext highlighter-rouge">tshark</code> works, use <code class="language-plaintext highlighter-rouge">tshark --help</code>.</p>

<h2 id="command-line-tools-for-network-inspection">Command-line tools for network inspection</h2>

<p>In the following sections, I’ll present examples of various network inspection tasks you may want to do, as well as a few options for how to do them in a Linux/Mac setting from the <code class="language-plaintext highlighter-rouge">bash</code> shell and in a Windows setting from a PowerShell.</p>

<h3 id="check-whether-another-machine-is-on-and-listening-for-requests">Check whether another machine is on and listening for requests</h3>

<p>On Linux/Mac:</p>

<pre><code class="language-{bash}">$ ping google.com
PING google.com(dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e)) 56 data bytes
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=1 ttl=114 time=43.5 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=2 ttl=114 time=51.0 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=3 ttl=114 time=45.3 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=4 ttl=114 time=39.8 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=5 ttl=114 time=37.9 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=6 ttl=114 time=38.0 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=7 ttl=114 time=39.7 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=8 ttl=114 time=40.5 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=9 ttl=114 time=37.6 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=10 ttl=114 time=39.7 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=11 ttl=114 time=46.2 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=12 ttl=114 time=38.7 ms
64 bytes from dfw25s26-in-x0e.1e100.net (2607:f8b0:4000:813::200e): icmp_seq=13 ttl=114 time=37.5 ms
^C
--- google.com ping statistics ---
13 packets transmitted, 13 received, 0% packet loss, time 12017ms
rtt min/avg/max/mdev = 37.527/41.233/51.009/3.955 ms
</code></pre>

<p>On Windows, in PowerShell:</p>

<pre><code class="language-{powershell}">PS &gt; Test-Connection google.com

Source        Destination     IPV4Address      IPV6Address                              Bytes    Time(ms)
------        -----------     -----------      -----------                              -----    --------
COSCLAB08     google.com      172.217.9.46     2607:f8b0:4009:816::200e                 32       57
COSCLAB08     google.com      172.217.9.46     2607:f8b0:4009:816::200e                 32       60
COSCLAB08     google.com      172.217.9.46     2607:f8b0:4009:816::200e                 32       69
COSCLAB08     google.com      172.217.9.46     2607:f8b0:4009:816::200e                 32       55


​PS &gt; Test-NetConnection -ComputerName google.com -InformationLevel Detailed


ComputerName           : google.com
RemoteAddress          : 2607:f8b0:4009:816::200e
NameResolutionResults  : 2607:f8b0:4009:816::200e
                         172.217.9.46
InterfaceAlias         : Ethernet
SourceAddress          : 2600:6c63:4380:14b7:bc61:889c:f8ef:4efd
NetRoute (NextHop)     : fe80::6238:e0ff:fea5:d398
PingSucceeded          : True
PingReplyDetails (RTT) : 57 ms
</code></pre>

<h3 id="see-the-network-route-to-a-computer">See the network route to a computer</h3>

<p>On Linux/Mac:</p>

<pre><code class="language-{bash}">$ traceroute google.com
traceroute to google.com (172.217.9.142), 64 hops max
  1   192.0.2.1  97.860ms  97.688ms  93.933ms 
  2   141.164.4.1  96.170ms  94.909ms  * 
  3   141.164.5.41  94.872ms  94.588ms  89.150ms 
  4   4.16.100.25  147.672ms  139.255ms  146.496ms 
  5   *  *  * 
  6   *  *  * 
  7   *  *  * 
  8   172.217.9.142  140.854ms  142.441ms  143.628ms
</code></pre>

<pre><code class="language-{bash}">$ tracepath google.com
 1?: [LOCALHOST]                        0.014ms pmtu 1500
 1:  2600:6c63:4380:14b7:6238:e0ff:fea5:d398               2.847ms 
 1:  2600:6c63:4380:14b7:6238:e0ff:fea5:d398               4.298ms 
 2:  no reply
 3:  2001-0506-0100-0862-0000-0000-0000-0004.inf6.spectrum.com  17.261ms 
 4:  2001-0506-0100-0865-0000-0000-0000-000b.inf6.spectrum.com  23.269ms 
 5:  2001-0506-0100-0826-0000-0000-0000-0002.inf6.spectrum.com  18.322ms 
 6:  bbr02slidla-tge0-0-2-0.slid.la.charter.com           14.976ms asymm  5 
 7:  bbr01sgnwmi-tge0-2-0-2.sgnw.mi.charter.com           45.626ms asymm  6 
 8:  prr01snjsca-tge1-2.snjs.ca.charter.com               50.761ms asymm  7 
 9:  2001:4860:1:1:0:1:0:e8                               42.139ms 
10:  no reply
11:  no reply
12:  no reply
13:  no reply
14:  no reply
15:  no reply
16:  no reply
17:  no reply
18:  no reply
19:  no reply
20:  no reply
21:  no reply
22:  no reply
23:  no reply
24:  no reply
25:  no reply
26:  no reply
27:  no reply
28:  no reply
29:  no reply
30:  no reply
     Too many hops: pmtu 1500
     Resume: pmtu 1500
</code></pre>

<p>On Windows in PowerShell:</p>

<pre><code class="language-{powershell}">​PS &gt; Test-NetConnection google.com -TraceRoute


ComputerName           : google.com
RemoteAddress          : 2607:f8b0:4009:816::200e
InterfaceAlias         : Ethernet
SourceAddress          : 2600:6c63:4380:14b7:bc61:889c:f8ef:4efd
PingSucceeded          : True
PingReplyDetails (RTT) : 59 ms
TraceRoute             : 2600:6c63:4380:14b7:6238:e0ff:fea5:d398
                         ::
                         2001:506:100:842::4
                         2001:506:100:803::7
                         2001:506:100:807::9
                         2001:506:100:53::1
                         ::
                         2001:4860:1:1:0:1:0:e8
                         2607:f8b0:8220::1
                         2001:4860:0:1::56a
                         2001:4860:0:1167::3
                         2001:4860::c:4001:557a
                         ::
                         2001:4860::9:4000:eeb8
                         2001:4860:0:1::2169
                         2607:f8b0:4009:816::200e
</code></pre>

<h3 id="see-the-network-interfaces-on-your-computer">See the network interfaces on your computer</h3>

<p>On Linux/Mac:</p>

<pre><code class="language-{bash}">$ ifconfig
docker0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255
        ether 02:42:2c:42:08:1c  txqueuelen 0  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 1654595  bytes 201631581 (201.6 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 1654595  bytes 201631581 (201.6 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlp59s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.1.137  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 2600:6c63:4380:14b7:4265:4fa1:b7ea:99c4  prefixlen 64  scopeid 0x0&lt;global&gt;
        inet6 2600:6c63:4380:14b7:548b:484a:1f81:f0e0  prefixlen 64  scopeid 0x0&lt;global&gt;
        inet6 fe80::7da6:5ccf:9865:42a5  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 18:56:80:b6:19:ee  txqueuelen 1000  (Ethernet)
        RX packets 786306  bytes 839939553 (839.9 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 270490  bytes 84509961 (84.5 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p>On Windows in PowerShell:</p>

<pre><code class="language-{powershell}">PS &gt; Get-NetAdapter

Name                      InterfaceDescription                    ifIndex Status       MacAddress             LinkSpeed
----                      --------------------                    ------- ------       ----------             ---------
Ethernet                  Realtek PCIe GBE Family Controller            5 Up           18-66-DA-23-C7-A3         1 Gbps
</code></pre>

<pre><code class="language-{powershell}">PS &gt; Get-NetAdapter -Name *Ethernet*

Name                      InterfaceDescription                    ifIndex Status       MacAddress             LinkSpeed
----                      --------------------                    ------- ------       ----------             ---------
Ethernet                  Realtek PCIe GBE Family Controller            5 Up           18-66-DA-23-C7-A3         1 Gbps
</code></pre>

<pre><code class="language-{powershell}">PS &gt; Get-NetAdapter | ft Name, Status, LinkSpeed

Name     Status LinkSpeed
----     ------ ---------
Ethernet Up     1 Gbps
</code></pre>

<pre><code class="language-{powershell}">PS &gt; Get-NetAdapter | ft Name, DriverName, DriverVersion, DriverInformation

Name     DriverName                                DriverVersion DriverInformation
----     ----------                                ------------- -----------------
Ethernet \SystemRoot\system32\DRIVERS\Rt64win7.sys 7.92.115.2015 Driver Date 2015-01-15 Version 7.92.115.2015 NDIS 6.20
</code></pre>

<pre><code class="language-{powershell}">PS &gt; Get-NetAdapterHardwareInfo

Name                           Segment Bus Device Function Slot NumaNode PcieLinkSpeed PcieLinkWidth Version
----                           ------- --- ------ -------- ---- -------- ------------- ------------- -------
Ethernet                             0   2      0        0    8               2.5 GT/s             1 1.1
</code></pre>

<pre><code class="language-{powershell}">PS &gt; Get-NetIPConfiguration

InterfaceAlias       : Ethernet
InterfaceIndex       : 5
InterfaceDescription : Realtek PCIe GBE Family Controller
NetProfile.Name      : Network 2
IPv6Address          : 2600:6c63:4380:14b7:bc61:889c:f8ef:4efd
IPv4Address          : 192.168.1.124
IPv6DefaultGateway   : fe80::6238:e0ff:fea5:d398
IPv4DefaultGateway   : 192.168.1.1
DNSServer            : 2600:6c63:4380:14b7:6238:e0ff:fea5:d398
                       2600:6c63:4380:14b7:6238:e0ff:fea5:d398
                       192.168.1.1
</code></pre>

<pre><code class="language-{powershell}">PS &gt; Get-NetAdapter -Name "Ethernet" | Get-NetIPAddress

IPAddress         : fe80::bc61:889c:f8ef:4efd%5
InterfaceIndex    : 5
InterfaceAlias    : Ethernet
AddressFamily     : IPv6
Type              : Unicast
PrefixLength      : 64
PrefixOrigin      : WellKnown
SuffixOrigin      : Link
AddressState      : Preferred
ValidLifetime     : Infinite ([TimeSpan]::MaxValue)
PreferredLifetime : Infinite ([TimeSpan]::MaxValue)
SkipAsSource      : False
PolicyStore       : ActiveStore

IPAddress         : 2600:6c63:4380:14b7:e9ed:2362:7268:c42f
InterfaceIndex    : 5
InterfaceAlias    : Ethernet
AddressFamily     : IPv6
Type              : Unicast
PrefixLength      : 128
PrefixOrigin      : RouterAdvertisement
SuffixOrigin      : Random
AddressState      : Preferred
ValidLifetime     : 3.05:08:57
PreferredLifetime : 16:29:59
SkipAsSource      : False
PolicyStore       : ActiveStore

IPAddress         : 2600:6c63:4380:14b7:bc61:889c:f8ef:4efd
InterfaceIndex    : 5
InterfaceAlias    : Ethernet
AddressFamily     : IPv6
Type              : Unicast
PrefixLength      : 64
PrefixOrigin      : RouterAdvertisement
SuffixOrigin      : Link
AddressState      : Preferred
ValidLifetime     : 3.05:08:57
PreferredLifetime : 3.05:08:57
SkipAsSource      : False
PolicyStore       : ActiveStore

IPAddress         : 192.168.1.124
InterfaceIndex    : 5
InterfaceAlias    : Ethernet
AddressFamily     : IPv4
Type              : Unicast
PrefixLength      : 24
PrefixOrigin      : Dhcp
SuffixOrigin      : Dhcp
AddressState      : Preferred
ValidLifetime     : 16:50:55
PreferredLifetime : 16:50:55
SkipAsSource      : False
PolicyStore       : ActiveStore
</code></pre>

<h3 id="see-dns-information">See DNS information</h3>

<p>On Linux/Mac:</p>

<pre><code class="language-{bash}">$ nslookup google.com
Server:		141.164.24.204
Address:	141.164.24.204#53

Non-authoritative answer:
Name:	google.com
Address: 172.217.9.142
Name:	google.com
Address: 2607:f8b0:4000:813::200e
</code></pre>

<pre><code class="language-{bash}">$ dig google.com

; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.13-Ubuntu &lt;&lt;&gt;&gt; google.com
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 42738
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 4, ADDITIONAL: 9

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
; COOKIE: 8db9db3b3299199175d14a255f51f340e4c5bc5dd2ca3e05 (good)
;; QUESTION SECTION:
;google.com.			IN	A

;; ANSWER SECTION:
google.com.		68	IN	A	172.217.9.142

;; AUTHORITY SECTION:
google.com.		41332	IN	NS	ns1.google.com.
google.com.		41332	IN	NS	ns3.google.com.
google.com.		41332	IN	NS	ns2.google.com.
google.com.		41332	IN	NS	ns4.google.com.

;; ADDITIONAL SECTION:
ns2.google.com.		41332	IN	A	216.239.34.10
ns1.google.com.		41332	IN	A	216.239.32.10
ns3.google.com.		41332	IN	A	216.239.36.10
ns4.google.com.		41332	IN	A	216.239.38.10
ns2.google.com.		41332	IN	AAAA	2001:4860:4802:34::a
ns1.google.com.		41332	IN	AAAA	2001:4860:4802:32::a
ns3.google.com.		41332	IN	AAAA	2001:4860:4802:36::a
ns4.google.com.		41332	IN	AAAA	2001:4860:4802:38::a

;; Query time: 98 msec
;; SERVER: 141.164.24.204#53(141.164.24.204)
;; WHEN: Fri Sep 04 02:56:48 CDT 2020
;; MSG SIZE  rcvd: 331
</code></pre>

<p>On Windows in PowerShell:</p>

<pre><code class="language-{powershell}">PS &gt; Resolve-DnsName google.com

Name                                           Type   TTL   Section    IPAddress
----                                           ----   ---   -------    ---------
google.com                                     AAAA   276   Answer     2607:f8b0:4009:803::200e
google.com                                     A      84    Answer     172.217.4.46
</code></pre>

<p>NOTE: Unlike Linux, Windows maintains a DNS cache table which can sometimes have stale data. To see what’s in the cache:</p>

<pre><code class="language-{powershell}">​PS &gt; Get-DnsClientCache

Entry                     RecordName                Record Status    Section TimeTo Data   Data
                                                    Type                     Live   Length
-----                     ----------                ------ ------    ------- ------ ------ ----
38.86.86.99.in-addr.arpa  38.86.86.99.in-addr.arpa  PTR    Success   Answer   78678      8 server-99-86-86-38.iah50.... wiki.archlinux.org        wiki.archlinux.org        CNAME  Success   Answer   17672      8 apollo.archlinux.org
wiki.archlinux.org        apollo.archlinux.org      AAAA   Success   Answer   17672     16 2a01:4f8:172:1d86::1
wiki.archlinux.org        wiki.archlinux.org        CNAME  Success   Answer   16724      8 apollo.archlinux.org
wiki.archlinux.org        apollo.archlinux.org      A      Success   Answer   16724      4 138.201.81.199
...
addons-pa.clients6.goo... addons-pa.clients6.goo... A      Success   Answer      53      4 216.58.192.170
github.githubassets.com   github.githubassets.com   A      Success   Answer     316      4 185.199.108.154
github.githubassets.com   github.githubassets.com   A      Success   Answer     316      4 185.199.109.154
github.githubassets.com   github.githubassets.com   A      Success   Answer     316      4 185.199.110.154
github.githubassets.com   github.githubassets.com   A      Success   Answer     316      4 185.199.111.154
www.chilton-computing.... www.chilton-computing.... CNAME  Success   Answer    3251      8 www.dataweb.clrc.ac.uk
www.chilton-computing.... www.dataweb.clrc.ac.uk    A      Success   Answer    3251      4 130.246.135.175
</code></pre>

<p>And to clear the DNS cache:</p>

<pre><code class="language-{powershell}">PS &gt; Clear-DnsClientCache
​PS &gt; Get-DnsClientCache
​PS &gt;
</code></pre>

<h3 id="get-connection-information-for-interface-connections">Get connection information for interface connections</h3>

<p>On Linux/Mac:</p>

<pre><code class="language-{bash}"># see open sockets/ports
netstat -p

# statistics on all ports
netstat -s

# routing table info
netstat -r
</code></pre>

<pre><code class="language-{bash}"># all tcp sockets, connected + listening
ss -ta

# all listening tcp sockets
ss -lt

# all udp sockets
ss -ua

# all unix sockets
ss -lx
</code></pre>

<p>On Windows in PowerShell:</p>

<pre><code class="language-{powershell}">​PS &gt; Get-NetTCPConnection

LocalAddress                        LocalPort RemoteAddress                       RemotePort State       AppliedSetting ------------                        --------- -------------                       ---------- -----       -------------- ::                                  52544     ::                                  0          Bound
::                                  49828     ::                                  0          Bound
::                                  49672     ::                                  0          Bound
2600:6c63:4380:14b7:e9ed:2362:72... 52544     2607:f8b0:4009:816::2005            443        Established Internet
2600:6c63:4380:14b7:e9ed:2362:72... 52538     2606:2800:11f:85d:13e0:11e9:1a6:... 80         TimeWait
2600:6c63:4380:14b7:e9ed:2362:72... 49828     2607:f8b0:4001:c12::bc              5228       Established Internet
2600:6c63:4380:14b7:e9ed:2362:72... 49672     2605:380:57:351:162:250:7:74        5938       Established Internet
::                                  49670     ::                                  0          Listen
::                                  49668     ::                                  0          Listen
::                                  49667     ::                                  0          Listen

...

0.0.0.0                             49704     0.0.0.0                             0          Bound
0.0.0.0                             49678     0.0.0.0                             0          Bound
0.0.0.0                             49677     0.0.0.0                             0          Bound
192.168.1.124                       52543     52.204.191.76                       443        TimeWait
192.168.1.124                       52541     34.224.141.128                      443        TimeWait
192.168.1.124                       52013     18.205.93.255                       443        CloseWait   Internet
127.0.0.1                           51755     0.0.0.0                             0          Listen
192.168.1.124                       49803     192.168.1.142                       8009       Established Internet
192.168.1.124                       49758     18.205.93.208                       443        Established Internet
</code></pre>

<pre><code class="language-{powershell}">​PS &gt; Get-NetTCPConnection -State Established

LocalAddress                        LocalPort RemoteAddress                       RemotePort State       AppliedSetting ------------                        --------- -------------                       ---------- -----       -------------- 2600:6c63:4380:14b7:e9ed:2362:72... 52544     2607:f8b0:4009:816::2005            443        Established Internet
2600:6c63:4380:14b7:e9ed:2362:72... 49828     2607:f8b0:4001:c12::bc              5228       Established Internet
2600:6c63:4380:14b7:e9ed:2362:72... 49672     2605:380:57:351:162:250:7:74        5938       Established Internet
192.168.1.124                       49803     192.168.1.142                       8009       Established Internet
192.168.1.124                       49758     18.205.93.208                       443        Established Internet
192.168.1.124                       49753     52.202.62.248                       443        Established Internet
127.0.0.1                           49744     127.0.0.1                           49743      Established Internet
127.0.0.1                           49743     127.0.0.1                           49744      Established Internet
127.0.0.1                           49738     127.0.0.1                           5939       Established Internet
192.168.1.124                       49704     52.230.222.68                       443        Established Internet
127.0.0.1                           49678     127.0.0.1                           49676      Established Internet
127.0.0.1                           49677     127.0.0.1                           49676      Established Internet
127.0.0.1                           49676     127.0.0.1                           49677      Established Internet
127.0.0.1                           49676     127.0.0.1                           49678      Established Internet
127.0.0.1                           5939      127.0.0.1                           49738      Established Internet
</code></pre>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
  </ul>
</div>

      </div>
      
<hr>
<div class="container footer">
  Built with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> using
  the <a href="http://lanyon.getpoole.com/" target="_blank">Lanyon theme</a>.
</div>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
 
  ga('create', 'UA-211408-7', 'auto');
  ga('send', 'pageview');
</script>



    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    <script src="https://use.fontawesome.com/263865d36b.js"></script>
  </body>
</html>
